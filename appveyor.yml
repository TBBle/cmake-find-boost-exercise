# Sets the PLATFORM environment variable
platform:
  - x64
  - Win32

# Sets the CONFIGURATION environment variable
configuration:
  - Release
# - Debug

# https://www.appveyor.com/docs/build-environment/#boost
environment:
  matrix:
    - BOOST_ROOT: C:/Libraries/boost_1_65_1
      APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2017
      GENERATOR: Visual Studio 15 2017
      AUTOLINK: ON
      STATIC: ON

    - BOOST_ROOT: C:/Libraries/boost_1_64_0
      APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2017
      GENERATOR: Visual Studio 15 2017
      AUTOLINK: ON
      STATIC: ON

    - BOOST_ROOT: C:/Libraries/boost_1_63_0
      APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2015
      GENERATOR: Visual Studio 14 2015
      AUTOLINK: ON
      STATIC: ON

    - BOOST_ROOT: C:/Libraries/boost_1_62_0
      APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2015
      GENERATOR: Visual Studio 14 2015
      AUTOLINK: ON
      STATIC: ON

    - BOOST_ROOT: C:/Libraries/boost_1_60_0
      APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2015
      GENERATOR: Visual Studio 14 2015
      AUTOLINK: ON
      STATIC: ON

    - BOOST_ROOT: C:/Libraries/boost_1_59_0
      APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2015
      GENERATOR: Visual Studio 14 2015
      AUTOLINK: ON
      STATIC: ON

    - BOOST_ROOT: C:/Libraries/boost_1_58_0
      APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2013
      GENERATOR: Visual Studio 12 2013
      AUTOLINK: ON
      STATIC: ON

      # 1.56.0
    - BOOST_ROOT: C:/Libraries/boost
      APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2013
      GENERATOR: Visual Studio 12 2013
      AUTOLINK: ON
      STATIC: ON

build_script:
  - ps: |
      mkdir build
      cd build
      cmake .. -G $Env:GENERATOR -A $Env:PLATFORM -DAUTOLINK=$Env:AUTOLINK -DSTATIC=$Env:STATIC
      cmake --build . --config $Env:CONFIGURATION

test: off
